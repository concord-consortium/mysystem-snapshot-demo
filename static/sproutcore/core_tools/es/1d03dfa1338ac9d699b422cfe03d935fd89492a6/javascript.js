SC.stringsFor("English",{});CoreTools=SC.Object.create({NAMESPACE:"CoreTools",VERSION:"1.0.0"});
CoreTools.DataSource=SC.DataSource.extend({fetch:function(a,c){var b=NO;switch(c.get("recordType")){case CoreTools.Target:b=this.fetchTargets(a,c);
break;case CoreTools.Test:b=this.fetchTests(a,c);break}return b},fetchTargets:function(a,b){if(!b.get("isRemote")){return NO
}SC.Request.getUrl("/sc/targets.json").set("isJSON",YES).notify(this,"fetchTargetsDidComplete",{query:b,store:a}).send();
return YES},fetchTargetsDidComplete:function(e,d){var b=e.get("response"),f=d.query,a=d.store,c;
if(!SC.$ok(b)){console.error("TODO: Add handler when fetching targets fails")}else{c=a.loadRecords(CoreTools.Target,b);
a.loadQueryResults(f,c)}},fetchTests:function(a,c){var b=c.get("url");if(!c.get("isRemote")||!b){return NO
}SC.Request.getUrl(b).set("isJSON",YES).notify(this,"fetchTestsDidComplete",{query:c,store:a}).send();
return YES},fetchTestsDidComplete:function(e,d){var b=e.get("response"),a=d.store,f=d.query,c;
if(!SC.$ok(b)){console.error("TODO: Add handler when fetching tests fails")}else{c=a.loadRecords(CoreTools.Test,b);
a.loadQueryResults(f,c)}}});CoreTools.Target=SC.Record.extend({primaryKey:"name",name:SC.Record.attr(String),parent:SC.Record.toOne("CoreTools.Target"),testsUrl:SC.Record.attr(String,{key:"link_tests"}),appUrl:function(){return(this.get("kind")==="app")?this.get("name"):null
}.property("kind","name").cacheable(),isExpanded:SC.Record.attr(Boolean,{defaultValue:NO}),children:function(){var a=this.get("store"),c=CoreTools.TARGETS_QUERY,b=a.find(c).filterProperty("parent",this);
if(b){b=b.sortProperty("kind","displayName")}return(b&&b.get("length")>0)?b:null}.property().cacheable(),displayName:function(){var a=(this.get("name")||"(unknown)").split("/");
return a[a.length-1]}.property("name").cacheable(),targetIcon:function(){var a="sc-icon-document-16";
switch(this.get("kind")){case"framework":a="sc-icon-folder-16";break;case"app":a="sc-icon-options-16";
break}return a}.property("kind").cacheable(),sortKind:function(){if(this.get("name")==="/sproutcore"){return null
}var a=this.get("parent");if(a&&(a.get("name")==="/sproutcore")){return"sproutcore"
}else{return(this.get("kind")||"unknown").toLowerCase()}}.property("kind","parent").cacheable(),testsQuery:function(){return SC.Query.remote(CoreTools.Test,{url:this.get("testsUrl")})
}.property("testsUrl").cacheable(),tests:function(){return this.get("store").find(this.get("testsQuery"))
}.property("testsQuery").cacheable()});CoreTools.TARGETS_QUERY=SC.Query.remote(CoreTools.Target);
sc_require("models/target");CoreTools.Target.FIXTURES=[{name:"/sample_controls",kind:"app",link_docs:"/static/sample_controls/en/current/docs/-index.json",link_root:"/static/sample_controls",link_tests:"/static/sample_controls/en/current/tests/-index.json",parent:""},{name:"/twitter",kind:"app",link_docs:"/static/twitter/en/current/docs/-index.json",link_root:"/static/twitter",link_tests:"/static/twitter/en/current/tests/-index.json",parent:""},{name:"/sproutcore",kind:"framework",link_docs:"/static/sproutcore/en/current/docs/-index.json",link_root:"/static/sproutcore",link_tests:"/static/sproutcore/en/current/tests/-index.json",parent:""},{name:"/sproutcore/foundation",kind:"framework",link_docs:"/static/sproutcore/foundation/en/current/docs/-index.json",link_root:"/static/sproutcore/foundation",link_tests:"/static/sproutcore/foundation/en/current/tests/-index.json",parent:"/sproutcore"},{name:"/sproutcore/datastore",kind:"framework",link_docs:"/static/sproutcore/datastore/en/current/docs/-index.json",link_root:"/static/sproutcore/datastore",link_tests:"/static/sproutcore/datastore/en/current/tests/-index.json",parent:"/sproutcore"},{name:"/sproutcore/desktop",kind:"framework",link_docs:"/static/sproutcore/desktop/en/current/docs/-index.json",link_root:"/static/sproutcore/desktop",link_tests:"/static/sproutcore/desktop/en/current/tests/-index.json",parent:"/sproutcore"},{name:"/sproutcore/runtime",kind:"framework",link_docs:"/static/sproutcore/runtime/en/current/docs/-index.json",link_root:"/static/sproutcore/runtime",link_tests:"/static/sproutcore/runtime/en/current/tests/-index.json",parent:"/sproutcore"},{name:"/sproutcore/welcome",kind:"app",link_docs:"/static/sproutcore/welcome/en/current/docs/-index.json",link_root:"/static/sproutcore/welcome",link_tests:"/static/sproutcore/welcome/en/current/tests/-index.json",parent:"/sproutcore"},{name:"/sproutcore/tests",kind:"app",link_docs:"/static/sproutcore/tests/en/current/docs/-index.json",link_root:"/static/sproutcore/tests",link_tests:"/static/sproutcore/tests/en/current/tests/-index.json",parent:"/sproutcore"}];
CoreTools.Test=SC.Record.extend({primaryKey:"url",filename:SC.Record.attr(String),url:SC.Record.attr(String),displayName:function(){return(this.get("filename")||"").replace(/^tests\//,"")
}.property("filename").cacheable(),icon:"sc-icon-document-16",isRunnable:YES});sc_require("models/test");
CoreTools.Test.FIXTURES=[{url:"/static/sproutcore/runtime/en/current/tests/core/beget.html",filename:"tests/core/beget"},{url:"/static/sproutcore/runtime/en/current/tests/core/clone.html",filename:"tests/core/clone"},{url:"/static/sproutcore/runtime/en/current/tests/core/compare.html",filename:"tests/core/compare"},{url:"/static/sproutcore/runtime/en/current/tests/core/console.html",filename:"tests/core/console"},{url:"/static/sproutcore/runtime/en/current/tests/core/guidFor.html",filename:"tests/core/guidFor"},{url:"/static/sproutcore/runtime/en/current/tests/core/inspect.html",filename:"tests/core/inspect"},{url:"/static/sproutcore/runtime/en/current/tests/core/isArray.html",filename:"tests/core/isArray"},{url:"/static/sproutcore/runtime/en/current/tests/core/IsEqual.html",filename:"tests/core/IsEqual"},{url:"/static/sproutcore/runtime/en/current/tests/core/itemType.html",filename:"tests/core/itemType"},{url:"/static/sproutcore/runtime/en/current/tests/core/keys.html",filename:"tests/core/keys"},{url:"/static/sproutcore/runtime/en/current/tests/core/makeArray.html",filename:"tests/core/makeArray"}];
if((typeof SC!=="undefined")&&SC&&SC.bundleDidLoad){SC.bundleDidLoad("sproutcore/core_tools")
};